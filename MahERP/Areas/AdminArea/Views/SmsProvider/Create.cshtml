@model SmsProviderViewModel
@{
    ViewData["Title"] = "افزودن خدمات‌دهنده جدید";
    var isEdit = Model.Id > 0;
    if (isEdit)
    {
        ViewData["Title"] = "ویرایش خدمات‌دهنده";
    }
}

<main id="main-container">
    <div class="content">
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">
                    <i class="fa fa-@(isEdit ? "edit" : "plus") me-2"></i>
                    @ViewData["Title"]
                </h3>
                <div class="block-options">
                    <a asp-action="Index" class="btn btn-sm btn-secondary">
                        <i class="fa fa-arrow-left me-1"></i> بازگشت
                    </a>
                </div>
            </div>
            <div class="block-content">
                <form asp-action="@(isEdit ? "Edit" : "Create")" method="post">
                    @if (isEdit)
                    {
                        <input type="hidden" asp-for="Id" />
                    }

                    <div class="row">
                        <!-- کد خدمات‌دهنده -->
                        <div class="col-md-6 mb-3">
                            <label asp-for="ProviderCode" class="form-label">کد خدمات‌دهنده (انگلیسی)</label>
                            @if (isEdit)
                            {
                                <input asp-for="ProviderCode" readonly  class="form-control" placeholder="SUNWAY" />

                            }
                            else
                            {
                                                                <input asp-for="ProviderCode" class="form-control" placeholder="SUNWAY" />

                            }
                            <span asp-validation-for="ProviderCode" class="text-danger"></span>
                            <small class="form-text text-muted">مثال: SUNWAY, PAYAMITO</small>
                        </div>

                        <!-- نام نمایشی -->
                        <div class="col-md-6 mb-3">
                            <label asp-for="ProviderName" class="form-label">نام نمایشی</label>
                            <input asp-for="ProviderName" class="form-control" placeholder="راه آفتاب" />
                            <span asp-validation-for="ProviderName" class="text-danger"></span>
                        </div>
                    </div>

                    <!-- توضیحات -->
                    <div class="mb-3">
                        <label asp-for="Description" class="form-label">توضیحات</label>
                        <textarea asp-for="Description" class="form-control" rows="2"></textarea>
                    </div>

                    <hr class="my-4" />

                    <h4 class="mb-3">
                        <i class="fa fa-key me-2"></i>
                        اطلاعات لاگین
                    </h4>

                    <div class="row">
                        <!-- نام کاربری -->
                        <div class="col-md-4 mb-3">
                            <label asp-for="Username" class="form-label">نام کاربری</label>
                            <input asp-for="Username" class="form-control" />
                            <span asp-validation-for="Username" class="text-danger"></span>
                        </div>

                        <!-- رمز عبور -->
                        <div class="col-md-4 mb-3">
                            <label asp-for="Password" class="form-label">رمز عبور</label>
                            <input asp-for="Password" type="password" class="form-control" />
                            <span asp-validation-for="Password" class="text-danger"></span>
                        </div>

                        <!-- شماره اختصاصی -->
                        <div class="col-md-4 mb-3">
                            <label asp-for="SenderNumber" class="form-label">شماره اختصاصی</label>
                            <input asp-for="SenderNumber" class="form-control" placeholder="3000XXXX" />
                        </div>
                    </div>

                    <div class="row">
                        <!-- API URL (اختیاری) -->
                        <div class="col-md-6 mb-3">
                            <label asp-for="ApiUrl" class="form-label">API URL (اختیاری)</label>
                            <input asp-for="ApiUrl" class="form-control" placeholder="https://api.example.com" />
                        </div>

                        <!-- API Key (اختیاری) -->
                        <div class="col-md-6 mb-3">
                            <label asp-for="ApiKey" class="form-label">API Key (اختیاری)</label>
                            <input asp-for="ApiKey" class="form-control" />
                        </div>
                    </div>

                    <hr class="my-4" />

                    <h4 class="mb-3">
                        <i class="fa fa-cog me-2"></i>
                        تنظیمات
                    </h4>

                    <div class="row">
                        <!-- فعال/غیرفعال -->
                        <div class="col-md-4 mb-3">
                            <div class="form-check form-switch">
                                <input asp-for="IsActive" class="form-check-input" type="checkbox" />
                                <label asp-for="IsActive" class="form-check-label">فعال</label>
                            </div>
                        </div>

                        <!-- پیش‌فرض -->
                        <div class="col-md-4 mb-3">
                            <div class="form-check form-switch">
                                <input asp-for="IsDefault" class="form-check-input" type="checkbox" />
                                <label asp-for="IsDefault" class="form-check-label">پیش‌فرض</label>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary">
                            <i class="fa fa-check me-1"></i>
                            @(isEdit ? "بروزرسانی" : "ذخیره")
                        </button>
                        <a asp-action="Index" class="btn btn-secondary">
                            <i class="fa fa-times me-1"></i>
                            انصراف
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}