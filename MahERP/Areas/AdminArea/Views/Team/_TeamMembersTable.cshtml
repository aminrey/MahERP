@model List<MahERP.DataModelLayer.ViewModels.OrganizationViewModels.TeamMemberViewModel>

@if (Model.Any())
{
    <div class="table-responsive">
        <table class="table table-striped table-vcenter">
            <thead>
                <tr>
                    <th>نام کاربر</th>
                    <th>سمت</th>
                    <th>نوع عضویت</th>
                    <th>تاریخ شروع</th>
                    <th>وضعیت</th>
                    <th class="text-center">عملیات</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var member in Model)
                {
                    <tr>
                        <td>@member.UserFullName</td>
                        <td>@(string.IsNullOrEmpty(member.Position) ? "-" : member.Position)</td>
                        <td>
                            <span class="badge bg-@(member.MembershipType == 2 ? "primary" : member.MembershipType == 1 ? "info" : "secondary")">
                                @member.MembershipTypeText
                            </span>
                        </td>
                        <td>@ConvertDateTime.ConvertMiladiToShamsi(member.StartDate, "yyyy/MM/dd")</td>
                        <td>
                            <span class="badge bg-@(member.IsActive ? "success" : "danger")">
                                @(member.IsActive ? "فعال" : "غیرفعال")
                            </span>
                        </td>
                        <td class="text-center">
                            <button type="button" class="btn btn-sm btn-alt-danger" 
                                    data-toggle="modal-ajax"
                                    href="@Url.Action("RemoveMemberModal", new { memberId = member.Id })"
                                    title="حذف از تیم">
                                <i class="fa fa-times"></i>
                            </button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="text-center py-4">
        <i class="fa fa-users fa-2x text-muted mb-2"></i>
        <p class="text-muted">هیچ عضوی در این تیم وجود ندارد</p>
        <button type="button" class="btn btn-primary" 
                data-toggle="modal-ajax"
                href="@Url.Action("AddMemberModal", new { teamId = ViewBag.TeamId })">
            <i class="fa fa-plus me-1"></i> اضافه کردن اولین عضو
        </button>
    </div>
}