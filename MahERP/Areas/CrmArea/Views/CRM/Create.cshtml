@model CRMInteractionViewModel
@{
    ViewData["Title"] = "افزودن تعامل CRM جدید";
}

@Html.Partial("Partials/_Styles")

@Html.Partial("Partials/_Hero")

<!-- Page Content -->
<div class="content content-full content-boxed">
    <form method="POST" action="@Url.Action("Create", "CRM")" enctype="multipart/form-data" id="createCRMForm">
        @Html.AntiForgeryToken()
        
        @Html.Partial("Partials/_NavigationTabs")

        <div class="tab-content">
            <!-- Tab 1: اطلاعات اصلی -->
            <div class="tab-pane active" id="main-info" role="tabpanel">
                @Html.Partial("Partials/_MainInfoTab", Model)
            </div>

            <!-- Tab 2: طرف حساب -->
            <div class="tab-pane" id="stakeholder-info" role="tabpanel">
                @Html.Partial("Partials/_StakeholderTab", Model)
            </div>

            <!-- Tab 3: جزئیات تعامل -->
            <div class="tab-pane" id="interaction-details" role="tabpanel">
                @Html.Partial("Partials/_InteractionDetailsTab", Model)
            </div>

            <!-- Tab 4: پیوست‌ها -->
            <div class="tab-pane" id="attachments" role="tabpanel">
                @Html.Partial("Partials/_AttachmentsTab", Model)
            </div>
        </div>

        @Html.Partial("Partials/_FormActions", Model)
        
    </form>
</div>

@section Scripts 
{
    <script>
        Dashmix.helpersOnLoad(['js-flatpickr', 'jq-datepicker', 'jq-maxlength', 'jq-select2']);
    </script>

    @Html.Partial("Partials/_InitScripts")
    @Html.Partial("Partials/_BranchScripts")
    @Html.Partial("Partials/_ContactOrganizationScripts")
    @Html.Partial("Partials/_ValidationScripts")
}