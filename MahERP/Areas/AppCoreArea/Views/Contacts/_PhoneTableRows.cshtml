@model List<MahERP.DataModelLayer.ViewModels.ContactViewModels.ContactPhoneViewModel>

@foreach (var phone in Model)
{
    <tr>
        <td class="text-center">@phone.Id</td>
        <td>
            <span class="badge bg-primary">@phone.PhoneTypeText</span>
        </td>
        <td class="fw-semibold">
            <span dir="ltr">@phone.FormattedNumber</span>
            @if (phone.IsDefault)
            {
                <span class="badge bg-info ms-2" title="شماره پیش‌فرض">
                    <i class="fa fa-star"></i> پیش‌فرض
                </span>
            }
            @if (phone.IsSmsDefault)
            {
                <span class="badge bg-success ms-2" title="شماره پیش‌فرض پیامک">
                    <i class="fa fa-sms"></i> پیامک
                </span>
            }
        </td>
        <td>@(phone.Extension ?? "-")</td>
        <td class="text-center">
            @if (phone.IsActive)
            {
                <span class="badge bg-success">فعال</span>
            }
            else
            {
                <span class="badge bg-secondary">غیرفعال</span>
            }
        </td>
        <td class="text-center">
            <div class="btn-group btn-group-sm">
                <button type="button" class="btn btn-alt-warning" 
                        data-toggle="modal-ajax"
                        href="@Url.Action("EditPhoneModal", new { id = phone.Id })"
                        title="ویرایش">
                    <i class="fa fa-edit"></i>
                </button>
                
                <button type="button" class="btn btn-alt-danger" 
                        onclick="deletePhone(@phone.Id)"
                        title="حذف">
                    <i class="fa fa-trash"></i>
                </button>
            </div>
        </td>
    </tr>
}

@Html.AntiForgeryToken()