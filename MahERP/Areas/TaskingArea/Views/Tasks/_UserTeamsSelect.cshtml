@model List<MahERP.DataModelLayer.ViewModels.OrganizationViewModels.TeamViewModel>

<select class="form-select form-select-sm team-select js-select2"
        data-row-id=""
        @(Model == null || !Model.Any() ? "disabled" : "")>
    <option value="">انتخاب تیم...</option>
    
    @if (Model != null && Model.Any())
    {
        @foreach (var team in Model)
        {
            @if (team.Id == 0)
            {
                <!-- ⭐ گزینه "بدون تیم" -->
                <option value="0" 
                        data-manager-id="" 
                        data-manager-name="" 
                        data-member-count="0">
                    بدون تیم
                </option>
            }
            else
            {
                <!-- ⭐⭐⭐ تیم‌های معمولی با اطلاعات کامل مدیر -->
                <option value="@team.Id" 
                        data-manager-id="@team.ManagerUserId"
                        data-manager-name="@team.ManagerName"
                        data-member-count="@team.MemberCount">
                    @team.Title
                    @if (!string.IsNullOrEmpty(team.ManagerName))
                    {
                        <text> (مدیر: @team.ManagerName)</text>
                    }
                </option>
            }
        }
    }
    else
    {
        <!-- ⭐ اگر هیچ تیمی نباشد -->
        <option value="0">بدون تیم</option>
    }
</select>

@if (Model != null && Model.Any() && Model.All(t => t.Id != 0))
{
    <small class="form-text text-muted mt-1">
        <i class="fa fa-users me-1"></i>
        @Model.Count تیم یافت شد
    </small>
}
else if (Model == null || !Model.Any())
{
    <small class="form-text text-warning mt-1">
        <i class="fa fa-exclamation-triangle me-1"></i>
        این کاربر در هیچ تیمی عضو نیست
    </small>
}