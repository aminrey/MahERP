@model TaskViewModel
@{
    ViewData["Title"] = "افزودن تسک جدید";
}

@Html.Partial("Partials/_Styles")

@Html.Partial("Partials/_Hero")

<!-- Page Content -->
<div class="content content-full content-boxed">
    <form method="POST" action="@Url.Action("CreateNewTask", "Tasks")" enctype="multipart/form-data" id="createTaskForm">
        @Html.AntiForgeryToken()
        
        @Html.Partial("Partials/_NavigationTabs")

        <div class="tab-content">
            <!-- Tab 1: اطلاعات اصلی -->
            <div class="tab-pane active" id="main-info" role="tabpanel">
                @Html.Partial("Partials/_MainInfoTab", Model)
            </div>

            <!-- Tab 2: جزئیات بیشتر در تسک -->
            <div class="tab-pane" id="project-info" role="tabpanel">
                @Html.Partial("Partials/_ProjectInfoTab", Model)
            </div>

            <!-- Tab 3: بازه زمانی -->
            <div class="tab-pane" id="timeframe" role="tabpanel">
                @Html.Partial("Partials/_TimeframeTab", Model)
            </div>

            <!-- Tab 4: فهرست کارها -->
            <div class="tab-pane" id="operations" role="tabpanel">
                @Html.Partial("Partials/_OperationsTab", Model)
            </div>

            <!-- Tab 5: یادآوری‌ها -->
            <div class="tab-pane" id="reminders" role="tabpanel">
                @Html.Partial("Partials/_RemindersTab", Model)
            </div>

            <!-- Tab 6: ناظرین -->
            <div class="tab-pane" id="viewers" role="tabpanel">
                @Html.Partial("Partials/_ViewersTab", Model)
            </div>
        </div>

        @Html.Partial("Partials/_FormActions", Model)
        
    </form>
</div>

@section Scripts 
{
    <script>
        Dashmix.helpersOnLoad(['js-flatpickr', 'jq-datepicker', 'jq-maxlength', 'jq-select2', 'jq-rangeslider', 'jq-masked-inputs', 'jq-pw-strength']);
    </script>

    @Html.Partial("Partials/_InitScripts")
    @Html.Partial("Partials/_EventHandlersScripts")
    @Html.Partial("Partials/_BranchDataScripts")
    @Html.Partial("Partials/_UserAssignmentScripts")
    @Html.Partial("Partials/_ValidationScripts")
    @Html.Partial("Partials/_ViewersScripts")
    @Html.Partial("Partials/_StakeholderScripts")
}