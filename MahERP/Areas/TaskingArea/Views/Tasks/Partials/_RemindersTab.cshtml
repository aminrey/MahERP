@model TaskViewModel

<div class="block block-rounded">
    <div class="block-header block-header-default">
        <h3 class="block-title">تنظیمات یادآوری</h3>
        <div class="block-options">
            <button type="button" class="btn btn-sm btn-warning"
                    data-toggle="modal-ajax"
                    href="@Url.Action("AddCustomReminderModal", "Tasks")">
                <i class="fa fa-bell-o me-1"></i> یادآوری سفارشی
            </button>
        </div>
    </div>
    <div class="block-content">
        <div id="remindersList">
            
            <!-- یادآوری پیش‌فرض (فقط اگر تاریخ پایان وجود داشته باشد) -->
            <div class="card border-success mb-3" id="default-reminder-card" style="display: none;">
                <div class="card-header bg-light">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <i class="fa fa-bell text-success me-2"></i>
                            <strong>یادآوری پیش‌فرض سیستم</strong>
                        </div>
                        <div class="form-check">
                            <input asp-for="EnableDefaultReminder" class="form-check-input" type="checkbox" id="defaultReminder" checked>
                            <label class="form-check-label" for="defaultReminder">فعال</label>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        <i class="fa fa-info-circle text-info me-1"></i>
                        در تاریخ پایان تسک (<strong id="due-date-display">--/--/----</strong>)، یادآوری برای تمام اعضای تیم ارسال می‌شود
                    </p>
                    <small class="text-muted">
                        زمان ارسال: ۹:۰۰ صبح
                    </small>
                </div>
            </div>

            <!-- لیست یادآوری‌های سفارشی -->
            <div id="customRemindersList">
                <!-- یادآوری‌های سفارشی به صورت دینامیک اضافه می‌شوند -->
            </div>

            <!-- راهنمای یادآوری‌ها -->
            <div class="alert alert-warning">
                <h6><i class="fa fa-lightbulb me-1"></i> نکات مهم:</h6>
                <ul class="mb-0">
                    <li><strong>یادآوری تکراری:</strong> هر چند روز یک بار یادآوری ارسال می‌شود</li>
                    <li><strong>یادآوری قبل از مهلت:</strong> چند روز قبل از پایان مهلت یادآوری ارسال می‌شود</li>
                    <li><strong>یادآوری یکباره:</strong> در تاریخ و ساعت مشخص یادآوری ارسال می‌شود</li>
                </ul>
            </div>

            <!-- Hidden input برای ذخیره reminders -->
            <input type="hidden" asp-for="TaskRemindersJson" id="taskRemindersData" />
        </div>
    </div>
</div>
