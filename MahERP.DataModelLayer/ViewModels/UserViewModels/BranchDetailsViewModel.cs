using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using MahERP.DataModelLayer.Entities.AcControl;

namespace MahERP.DataModelLayer.ViewModels.UserViewModels
{
    /// <summary>
    /// ViewModel ???? ???? ????? ?????? ???? ???? ???? ???????? ??? ??????? ? ???????? ?????????
    /// </summary>
    public class BranchDetailsViewModel
    {
        // ??????? ???? ????
        public int Id { get; set; }

        [Display(Name = "??? ????")]
        public string Name { get; set; }

        [Display(Name = "???????")]
        public string Description { get; set; }

        [Display(Name = "????")]
        public string Address { get; set; }

        [Display(Name = "????")]
        public string Phone { get; set; }

        [Display(Name = "?????")]
        public string Email { get; set; }

        [Display(Name = "??? ????")]
        public string ManagerName { get; set; }

        [Display(Name = "????? ????")]
        public bool IsActive { get; set; }

        [Display(Name = "???? ????")]
        public bool IsMainBranch { get; set; }

        [Display(Name = "???? ????")]
        public int? ParentId { get; set; }

        [Display(Name = "????? ?????")]
        public DateTime CreateDate { get; set; }

        [Display(Name = "????? ????? ?????????")]
        public DateTime? LastUpdateDate { get; set; }

        // ??????? ???? ????
        public BranchViewModel ParentBranch { get; set; }

        // ??????? ????
        [Display(Name = "??????? ????")]
        public List<BranchUser> BranchUsers { get; set; } = new List<BranchUser>();

        // ??? ???????? ????
        [Display(Name = "??? ???????? ????")]
        public List<Stakeholder> Stakeholders { get; set; } = new List<Stakeholder>();

        // ???????? ?????????
        [Display(Name = "???????? ?????????")]
        public List<Branch> ChildBranches { get; set; } = new List<Branch>();

        // ???? ? ??????? ??????
        [Display(Name = "????? ??????? ????")]
        public int ActiveUsersCount { get; set; }

        [Display(Name = "????? ??? ???????? ????")]
        public int ActiveStakeholdersCount { get; set; }

        [Display(Name = "????? ???????? ?????????")]
        public int ChildBranchesCount { get; set; }

        [Display(Name = "????? ???????? ????????? ????")]
        public int ActiveChildBranchesCount { get; set; }

        // ??????? ????? ???? ?????
        public string ParentBranchName => ParentBranch?.Name;
        public string StatusText => IsActive ? "????" : "???????";
        public string BranchTypeText => IsMainBranch ? "???? ????" : "???? ????";
    }
}